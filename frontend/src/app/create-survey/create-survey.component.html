<h4 class="card-title mt-3 text-center">Create survey</h4>

<div class='container mb-5' style="max-width: 600px">
    <form action="" method="post">
        <div class="form-group">
            <input type="text" class="form-control" placeholder="Name" [(ngModel)]='name' name="name">
        </div>
        <div class="form-group">
            <input type="checkbox" id="public" name='public' [(ngModel)]='public'>
            <label for='public' class="card-subtitle mb-2 mx-2">Public</label>
        </div>

        <div *ngFor="let q of questions; let i = index;" class="mb-3">
            <div class="form-group d-flex">
                <input type="text" class="form-control" placeholder="Question {{ i + 1}}" [(ngModel)]='q.question' name="q.question">
                <button class="btn btn-danger mx-2" (click)='removeQuestion(i)'><i class="fas fa-trash-alt"></i></button>
            </div>            
            <div class='px-5'>
                <div *ngFor="let a of q.answers; let j = index;" class="mb-3">
                    <div class="form-group d-flex">
                        <input type="text" class="form-control" placeholder="Answer {{ j + 1}}" [(ngModel)]='q.answers[j].answer' name="q.answers[j].answer">
                        <button class="btn btn-outline-danger mx-2" (click)='removeAnswer(i, j)'><i class="fas fa-trash-alt"></i></button>
                    </div> 
                </div>
                <button class="btn btn-outline-primary btn-sm mb-2" (click)='addAnswer(i)'><i class="fas fa-plus"></i> Add answer</button>
            </div>            
        </div>

        <button class="btn btn-primary btn-sm mb-2" (click)='addQuestion()'><i class="fas fa-plus"></i> Add question</button>

        <input type="submit" class="btn btn-primary btn-block" value="Create" (click)='create()'>
    </form>
</div>